---
description: 
globs: 
alwaysApply: false
---
ðŸš€ PR Creator - GitHub Chat Workflow

Crie Pull Requests automaticamente com apenas um comando no chat do Cursor. Este fluxo analisa suas mudanÃ§as, gera um tÃ­tulo e uma descriÃ§Ã£o inteligentes, executa comandos Git e cria o PR no GitHub.

âš ï¸ NÃ£o usamos mais scripts Python
âœ… Funciona com GitHub e o CLI gh configurado
âœ… Aceita qualquer tag identificadora, ex: @pr-creator my-task

â¸»

âœ… Como Usar

Execute no chat:

@pr-creator minha-tag-ou-id

Exemplos:

@pr-creator SAOP-235
@pr-creator fix-settings-refactor
@pr-creator jita-core-update


â¸»

ðŸ¤– Fluxo Automatizado do Chat

1. ðŸ” AnÃ¡lise Inicial

	â€¢	Executa: @Commit (Diff of Working State)
	â€¢	Detecta arquivos alterados
	â€¢	Identifica branch atual (git branch --show-current)
	â€¢	Classifica tipo de branch: feature, release, hotfix, production

â¸»

2. ðŸ“„ GeraÃ§Ã£o de TÃ­tulo e DescriÃ§Ã£o

ðŸŒ Sempre em inglÃªs!

TÃ­tulo:

[qualquer-tag]: [brief, intelligent change summary]

Exemplos:
	â€¢	SAOP-235: Fix login validation for OAuth
	â€¢	jita-refactor: Simplified event emitter core
	â€¢	ðŸ”¥ Hotfix prod-bug: Fix N+1 issue in query engine

DescriÃ§Ã£o Markdown:

ðŸ”— **Task/Tag:** minha-tag-ou-id

### ðŸ“‹ Summary
- [short bullet points of what was done]

### ðŸ”§ Technical Details
- [details on implementation, decisions, edge cases]

### ðŸ“ Files Modified ([n]):
- `[file1]` - [summary of change]
- `[file2]` - [summary of change]


â¸»

3. ðŸŒ¿ CriaÃ§Ã£o de Branch e Commit

# SugestÃ£o de nome de branch (slugified)
[minha-tag-slug]-[resumo-slug]

# Git:
git checkout -b [nome-da-branch]
git add . -- ':!**/settings.py' ':!**/*settings*.py'
git commit -m "feat([tag]): [resumo] ([nÃºmero] files)"
git push origin [nome-da-branch]


â¸»

4. ðŸš€ CriaÃ§Ã£o do PR no GitHub

**IMPORTANTE: Para formataÃ§Ã£o correta da descriÃ§Ã£o, use um arquivo temporÃ¡rio:**

# Primeiro, criar um arquivo temporÃ¡rio com a descriÃ§Ã£o
cat > /tmp/pr_description.md << 'EOF'
ðŸ”— **Task/Tag:** [tag]

### ðŸ“‹ Summary
- [bullet points da mudanÃ§a]

### ðŸ”§ Technical Details  
- [detalhes da implementaÃ§Ã£o]

### ðŸ“ Files Modified ([n]):
- `[file1]` - [resumo da mudanÃ§a]
- `[file2]` - [resumo da mudanÃ§a]
EOF

# EntÃ£o usar o arquivo para criar o PR
gh pr create \
  --title "[tÃ­tulo-gerado]" \
  --body-file /tmp/pr_description.md \
  --head "$(git branch --show-current)" \
  --base "main" \
  --draft

# Limpar o arquivo temporÃ¡rio
rm /tmp/pr_description.md


â¸»

5. âœ… Resposta Final

âœ… PR CRIADO COM SUCESSO!

ðŸ“‚ Branch: main â†’ [nova-branch]
ðŸ·ï¸ Tag: [qualquer-tag]
ðŸ“ TÃ­tulo: [tÃ­tulo-gerado]
ðŸ”— PR Link: [url do PR]

ðŸ’¡ PrÃ³ximos passos:
- Atualize seu sistema de tickets (se aplicÃ¡vel)
- Remova [DRAFT] quando pronto para review
- FaÃ§a merge apÃ³s aprovaÃ§Ã£o


â¸»

ðŸ§  Addressing PR Comments

Para revisar e responder comentÃ¡rios existentes no PR atual:

ðŸŽ¯ Objetivo: Address PR comments

# Encontrar PR da branch atual
gh pr list --head $(git branch --show-current) | cat

# Obter comentÃ¡rios inline
gh api repos/:owner/:repo/pulls/PR_NUMBER/comments \
  --jq '.[] | {author: .user.login, body: .body, path: .path, line: .line}' | cat

# (Opcional) Obter comentÃ¡rios de revisÃ£o
gh api repos/:owner/:repo/pulls/PR_NUMBER/reviews \
  --jq '.[] | select(.body != "") | {author: .user.login, body: .body}' | cat

	â€¢	Se nenhum PR for encontrado â†’ Abortar com aviso
	â€¢	Para cada comentÃ¡rio:
	â€¢	Gerar sugestÃ£o de cÃ³digo ou explicaÃ§Ã£o tÃ©cnica
	â€¢	Listar modificaÃ§Ãµes sugeridas

â¸»

ðŸ› ï¸ ConfiguraÃ§Ãµes e RestriÃ§Ãµes

Arquivos Ignorados:

**/settings.py
**/*settings*.py
*.pyc, *.pyo, __pycache__/
.DS_Store, Thumbs.db, .git/

Categorias de Arquivos:
	â€¢	Backend: .py, .sh, .yml, .sql, api/**
	â€¢	Frontend: .ts, .tsx, .js, .jsx, .html, .css
	â€¢	Config: *.json, *.ini, package.json, requirements.txt
	â€¢	Tests: *_test.*, .spec.*
	â€¢	Docs: .md, .rst, .txt

â¸»

âœ… Resultado Final

Comando:

@pr-creator minha-tag

Resultado:
	â€¢	ðŸ“„ TÃ­tulo e descriÃ§Ã£o gerados automaticamente
	â€¢	ðŸŒ¿ Branch criada com nome apropriado
	â€¢	ðŸ§  PR criado como draft no GitHub
	â€¢	ðŸ“Ž Link direto do PR
	â€¢	ðŸ’¬ SugestÃµes automÃ¡ticas para PR comments, se existirem
