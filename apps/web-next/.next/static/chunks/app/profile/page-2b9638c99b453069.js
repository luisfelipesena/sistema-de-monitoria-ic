(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{474:(e,a,s)=>{"use strict";s.d(a,{T:()=>n,i:()=>l});var r=s(2690),t=s(438),i=s(5377);let l=(0,r.pY)();function n(){return l.createClient({links:[(0,i.fu)({url:"/api/trpc",transformer:t.Ay})]})}},575:(e,a,s)=>{"use strict";s.d(a,{cn:()=>i});var r=s(2987),t=s(607);function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,t.QP)((0,r.$)(a))}},1056:(e,a,s)=>{"use strict";s.d(a,{$:()=>c});var r=s(4568),t=s(9649),i=s(615),l=s(1750),n=s(7620),d=s(575);let o=(0,i.F)("inline-flex items-center justify-center text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 gap-1",{variants:{variant:{primary:"bg-primary hover:bg-primary-foreground text-white rounded-full",secondary:"bg-secondary hover:bg-secondary-foreground text-white rounded-full",destructive:"bg-destructive hover:bg-destructive-foreground text-white rounded-full",outline:"bg-transparent border border-primary text-primary hover:bg-primary/10 rounded-full",ghost:"hover:bg-accent hover:text-accent-foreground",disabled:"bg-[#A7A7A7] text-white rounded-full",transparent:"bg-transparent text-black rounded-full"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"primary",size:"default"}}),c=n.forwardRef((e,a)=>{let{className:s,variant:i,size:c,asChild:u=!1,isLoading:m=!1,disabled:f,children:x,...p}=e,h=u?t.DX:"button",v=f||m?"disabled":i;return(0,r.jsx)(h,{className:(0,d.cn)(o({variant:v,size:c,className:s})),ref:a,disabled:f||m,...p,children:m?(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(l.A,{className:"animate-spin"}),x]}):x})});c.displayName="Button"},3726:(e,a,s)=>{Promise.resolve().then(s.bind(s,9369))},7986:(e,a,s)=>{"use strict";s.d(a,{Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>n});var r=s(4568),t=s(7620),i=s(575);let l=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("rounded-md border border-slate-200 bg-white shadow-sm",s),...t})});l.displayName="Card";let n=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...t})});n.displayName="CardHeader";let d=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("h3",{ref:a,className:(0,i.cn)("text-xl font-semibold leading-none tracking-tight",s),...t})});d.displayName="CardTitle",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-slate-500",s),...t})}).displayName="CardDescription";let o=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",s),...t})});o.displayName="CardContent",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",s),...t})}).displayName="CardFooter",t.forwardRef((e,a)=>{let{className:s,borderColor:t="primary",...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card p-6 text-card-foreground shadow-sm",{primary:"border-l-4 border-l-primary",secondary:"border-l-4 border-l-secondary",success:"border-l-4 border-l-[hsl(var(--success))]",warning:"border-l-4 border-l-[hsl(var(--warning))]",error:"border-l-4 border-l-destructive",info:"border-l-4 border-l-[hsl(var(--info))]"}[t],s),...l})}).displayName="BorderCard"},9369:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>$});var r=s(4568),t=s(1056),i=s(7986),l=s(615),n=s(7620),d=s(575);let o=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=n.forwardRef((e,a)=>{let{className:s,variant:t,...i}=e;return(0,r.jsx)("div",{ref:a,role:"alert",className:(0,d.cn)(o({variant:t}),s),...i})});c.displayName="Alert";let u=n.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("h5",{ref:a,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",s),...t})});u.displayName="AlertTitle";let m=n.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",s),...t})});m.displayName="AlertDescription";let f=0,x=new Map,p=e=>{if(x.has(e))return;let a=setTimeout(()=>{x.delete(e),y({type:"REMOVE_TOAST",toastId:e})},1e6);x.set(e,a)},h=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?p(s):e.toasts.forEach(e=>{p(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},v=[],g={toasts:[]};function y(e){g=h(g,e),v.forEach(e=>{e(g)})}function b(e){let{...a}=e,s=(f=(f+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>y({type:"DISMISS_TOAST",toastId:s});return y({type:"ADD_TOAST",toast:{...a,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>y({type:"UPDATE_TOAST",toast:{...e,id:s}})}}var j=s(474),N=s(2608),w=s(8889);let A=(0,w.A)("signature",[["path",{d:"m21 17-2.156-1.868A.5.5 0 0 0 18 15.5v.5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1c0-2.545-3.991-3.97-8.5-4a1 1 0 0 0 0 5c4.153 0 4.745-11.295 5.708-13.5a2.5 2.5 0 1 1 3.31 3.284",key:"y32ogt"}],["path",{d:"M3 21h18",key:"itz85i"}]]),k=(0,w.A)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);function S(e){let{onSave:a,isSaving:s}=e,l=(0,n.useRef)(null),[d,o]=(0,n.useState)(!1);return(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(A,{className:"h-5 w-5"}),"Assinatura do Professor Respons\xe1vel"]})}),(0,r.jsxs)(i.Wu,{className:"space-y-4",children:[(0,r.jsxs)(c,{children:[(0,r.jsx)(k,{className:"h-4 w-4"}),(0,r.jsx)(u,{children:"A\xe7\xe3o Requerida"}),(0,r.jsx)(m,{children:"Para submeter o projeto, \xe9 necess\xe1rio que o professor respons\xe1vel o assine digitalmente. Desenhe sua assinatura no campo abaixo."})]}),(0,r.jsx)("div",{className:"border rounded-md bg-gray-50 p-2",children:(0,r.jsx)(N.A,{ref:l,penColor:"black",canvasProps:{className:"w-full h-40 rounded-md"},onBegin:()=>{o(!0)}})}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(t.$,{variant:"outline",onClick:()=>{var e;null==(e=l.current)||e.clear(),o(!1)},disabled:s,children:"Limpar"}),(0,r.jsx)(t.$,{onClick:()=>{var e,s;if(null==(e=l.current)?void 0:e.isEmpty())return void alert("Por favor, forne\xe7a sua assinatura.");let r=null==(s=l.current)?void 0:s.toDataURL("image/png");r&&a(r)},disabled:s||!d,children:s?"Salvando...":"Salvar Assinatura"})]})]})]})}let R=(0,w.A)("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);var D=s(5191);let C=(0,w.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),P=(0,w.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),T={default:"border-gray-300 focus:border-blue-600 focus:ring-2 focus:ring-blue-600",error:"border-red-500 focus:border-blue-600 focus:ring-2 focus:ring-blue-600",success:"border-green-500 focus:border-blue-600 focus:ring-2 focus:ring-blue-600",disabled:"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"},E={default:"text-gray-500",error:"text-red-600",success:"text-green-600"},M=n.forwardRef((e,a)=>{let{className:s,type:t,label:i,helperText:l,status:n="default",disabled:o,...c}=e,u=o?"disabled":n;return(0,r.jsxs)("div",{className:"w-full space-y-1",children:[i&&(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:i}),(0,r.jsx)("input",{type:t,className:(0,d.cn)("block w-full rounded-md px-3 py-2.5 text-sm transition-colors outline-none border bg-white h-[40px]",T[u],s),disabled:o,"aria-invalid":"error"===n,"aria-describedby":l?"".concat(c.id||"input","-helper"):void 0,ref:a,...c}),l&&(0,r.jsx)("span",{id:"".concat(c.id||"input","-helper"),className:(0,d.cn)("text-xs mt-1",E[n]),children:l})]})});M.displayName="Input";var _=s(7156),O=n.forwardRef((e,a)=>(0,r.jsx)(_.sG.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));O.displayName="Label";let I=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),z=n.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(O,{ref:a,className:(0,d.cn)(I(),s),...t})});function F(){let{toast:e}=function(){let[e,a]=n.useState(g);return n.useEffect(()=>(v.push(a),()=>{let e=v.indexOf(a);e>-1&&v.splice(e,1)}),[e]),{...e,toast:b,dismiss:e=>y({type:"DISMISS_TOAST",toastId:e})}}(),{data:a,isLoading:s}=j.i.signature.getProfile.useQuery(),l=function(){let e=j.i.useContext();return j.i.signature.saveProfile.useMutation({onSuccess:()=>{e.signature.getProfile.invalidate()}})}(),d={mutateAsync:async()=>Promise.reject("Not implemented"),isPending:!1},[o,u]=(0,n.useState)(!1),[f,x]=(0,n.useState)(null),p=async a=>{try{await l.mutateAsync({signatureImage:a}),e({title:"Assinatura salva",description:"Sua assinatura foi salva com sucesso!"}),u(!1)}catch(a){e({title:"Erro ao salvar",description:a.message||"N\xe3o foi poss\xedvel salvar a assinatura",variant:"destructive"})}},h=async()=>{try{await d.mutateAsync(),e({title:"Assinatura removida",description:"Sua assinatura foi removida com sucesso"})}catch(a){e({title:"Erro ao remover",description:a.message||"N\xe3o foi poss\xedvel remover a assinatura",variant:"destructive"})}};if(s)return(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(R,{className:"h-5 w-5"}),"Assinatura Digital"]})}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})})]});let N=null==a?void 0:a.assinaturaDefault;return(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(R,{className:"h-5 w-5"}),"Assinatura Digital"]})}),(0,r.jsxs)(i.Wu,{className:"space-y-4",children:[(0,r.jsxs)(c,{children:[(0,r.jsx)(D.A,{className:"h-4 w-4"}),(0,r.jsx)(m,{children:"Configure sua assinatura digital para usar nos projetos de monitoria. Voc\xea pode desenhar sua assinatura ou fazer upload de uma imagem."})]}),N?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-green-50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(D.A,{className:"h-5 w-5 text-green-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-green-900",children:"Assinatura configurada"}),(0,r.jsxs)("p",{className:"text-sm text-green-700",children:["Salva em: ",(null==a?void 0:a.dataAssinaturaDefault)?new Date(a.dataAssinaturaDefault).toLocaleString("pt-BR"):"Data n\xe3o dispon\xedvel"]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(t.$,{variant:"outline",size:"sm",onClick:()=>{(null==a?void 0:a.assinaturaDefault)&&x(a.assinaturaDefault)},children:[(0,r.jsx)(C,{className:"h-4 w-4 mr-2"}),"Visualizar"]}),(0,r.jsxs)(t.$,{variant:"destructive",size:"sm",onClick:h,disabled:d.isPending,children:[(0,r.jsx)(P,{className:"h-4 w-4 mr-2"}),"Remover"]})]})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)(t.$,{variant:"outline",onClick:()=>u(!0),children:[(0,r.jsx)(R,{className:"h-4 w-4 mr-2"}),"Alterar Assinatura"]})})]}):(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(z,{htmlFor:"signature-upload",children:"Upload de Imagem"}),(0,r.jsx)(M,{id:"signature-upload",type:"file",accept:"image/*",onChange:a=>{var s;let r=null==(s=a.target.files)?void 0:s[0];if(!r)return;if(!r.type.startsWith("image/"))return void e({title:"Formato inv\xe1lido",description:"Por favor, selecione uma imagem",variant:"destructive"});let t=new FileReader;t.onload=e=>{var a;p(null==(a=e.target)?void 0:a.result)},t.readAsDataURL(r)},disabled:l.isPending}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Formatos aceitos: PNG, JPG, JPEG"})]}),(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"ou"}),(0,r.jsxs)(t.$,{onClick:()=>u(!0),disabled:l.isPending,children:[(0,r.jsx)(R,{className:"h-4 w-4 mr-2"}),"Desenhar Assinatura"]})]})})]})}),o&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(S,{onSave:p,isSaving:l.isPending}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(t.$,{variant:"outline",onClick:()=>u(!1),disabled:l.isPending,children:"Cancelar"})})]}),f&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Pr\xe9via da Assinatura"}),(0,r.jsx)("div",{className:"border rounded-lg p-4 bg-gray-50 flex justify-center",children:(0,r.jsx)("img",{src:f,alt:"Assinatura",className:"max-w-full max-h-32 object-contain"})}),(0,r.jsx)("div",{className:"flex justify-end mt-4",children:(0,r.jsx)(t.$,{onClick:()=>x(null),children:"Fechar"})})]})})]})]})}function $(){return(0,r.jsx)("div",{className:"container mx-auto p-6 max-w-4xl",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Usu\xe1rio"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Gerencie suas informa\xe7\xf5es pessoais e assinatura digital."})]}),(0,r.jsx)(F,{})]})})}z.displayName=O.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[773,385,587,315,358],()=>a(3726)),_N_E=e.O()}]);